## Project 3: Windshield Wiper System for Driver's Ed Vehicle
Team members: Eric Greenberg and Erika Skobel
### System Behavior
The system implements an ignition control system and a windshield wiper system to improve safety in Driver’s Ed vehicles. The ignition system enforces basic safety requirements by ensuring that both the driver and passenger are present with their seatbelts fastened before allowing the engine to start. When the driver sits down, a welcome message is displayed. Once all safety conditions are met, a green LED lights up to indicate that ignition is enabled. If ignition is successful, the green LED turns off and the red LED lights up. If the driver does not follow all the requirements, pressing the ignition does not allow the engine to start and triggers a buzzer alarm and warning messages explaining why the ignition was denied. The system allows additional start attempts if the ignition is inhibited, as well as the ability to turn off the engine after the car is started by pressing the ignition button again. The windshield wiper system is the new implementation to this system. The windshield wiper system includes a standard position servo motor that represents the wipers. The motor shaft rotates to a maximum angle of 90 degrees and back to 0 degrees. The user can control the wiper settings with a potentiometer knob to set them to either HIGH, LOW, INT (intermittent), or OFF. For the HIGH setting, the wiper rotates at a speed of 25 revolutions per minute. For the LOW setting, the wiper rotates at a speed of 10 revolutions per minute. For the INT setting, the wiper rotates in low-speed mode and has a user-chosen delay at the 0-degrees position. The user uses a second potentiometer to choose between SHORT (1s), MED (3s), or LONG (5s) delay times between wiper rotations. For the OFF setting, the wiper completes its last rotation and then stays still in the 0 degree position. An LCD displays the current wiper setting, and if INT is selected, it also shows the user-selected delay time. Turning off the engine (by pressing the ignition button again) also turns off the windshield wiper system; the wiper completes its current cycle and then stops, and the LCD display becomes blank.

### Design Alternatives
Our team decided to use a standard position servo motor rather than a continuous servo motor to simulate the windshield wiper motor. For the continuous servo motor, the duty cycle for the proper speeds (low and high) would be determined experimentally by timing periods and adjusting the code. Also, it would be difficult to program the correct timing for the continuous servo to stop at 90 degrees and return to 0 degrees. On the other hand, the position servo simply had to be calibrated to rotate 90 degrees, and then the periods for each wiper mode (low and high) was calculated. The program uses for-loops to increment the position of the servo motor at the specified speeds using delays within the for-loops. The delays were calculated based on the duty cycle bitwidth and its relation to the degrees per second ratio. Then, the timings were verified using a stopwatch to measure the periods of rotation. In summary, we felt it would be easier to program the position servo motor to perform the intended functions.

### Starting Repositories
[Ignition Subsystem](https://github.com/skobele28/Skobel-Vatanapradit-Project2.git)<br>
[LCD Display](https://github.com/goodmangc/LCD_display_starter_code.git)

### Summary of Testing Results
**<ins>Ignition Subsystem</ins>**
|Specification|Test Process|Results|
|-------------|------------|-------|
|1. Enable ignition (turn on green LED) when both seats are occupied (PS, DS) and seatbelts fastened (PB, DB). Trigger alarm and display warning messages otherwise. |4 buttons: DS, DB, PS, PB<br>1. All buttons pressed<br>2. All but two buttons (PS, PB) pressed<br>3. No buttons pressed|All tests passed.<br>1. Green LED turns on<br>2. Print “Ignition inhibited”, “Passenger seat not occupied”, “Passenger seatbelt not fastened”. Alarm triggered.<br>3. All warning messages printed and alarm triggered.|
|2. Start engine (turn off green LED, turn on red LED) after ignition is enabled (green LED on) and ignition button is pressed (before button released).|All buttons pressed, green LED turns on, ignition button pressed|Test passed.<br>Engine light (red LED) turns on and stays on after the ignition button is pressed and released.|
|3. Engine stays running (red LED stays on) regardless of status of seats and seatbelts|Ignition successful, press and release DS, DB, PS, and PB buttons (any order)|Test passed.<br>Engine light (red LED) remains illuminated after successful ignition.|
|4. Successfully start the engine (light red LED, turn off green LED) after ignition is inhibited. Otherwise, alarm triggered.|1. All but one button (PS) pressed and ignition pressed<br>2. All buttons pressed and ignition pressed|All tests passed.<br>1. Print “Ignition inhibited” and “Passenger seatbelt not fastened”. Alarm triggered. Green LED on.<br>2. Green LED turns off, red LED turns on, alarm turns off|
|5. Turn off ignition after engine is successfully started by pressing ignition button again|Ignition successful, press ignition button|Test passed.<br>Red LED is on then turns off when ignition button is pressed.|

**<ins>Windshield Wiper Subsystem</ins>**
|Specification|Test Process|Results|
|-------------|------------|-------|
|6. The windshield wiper (servo motor) does not activate when ignition is off.|Do not press any buttons in the ignition subsystem. Turn the wiper potentiometer knob to INT, LOW, or HIGH.|Test passed.<br>Windshield wiper motor does not move.|
|7. After ignition, the windshield wiper rotates to 90 degrees and back at 25rpm when wiper control is set to HIGH, LCD displays wiper setting|Ignition successful, turn the wiper potentiometer to HIGH|Test passed.<br>Red LED is on<br>Motor rotates 90 degrees and back in 1.2s periods<br>LCD displays “Wipers: HIGH”|
|8. After ignition, the windshield wiper rotates to 90 degrees and back at 10rpm when wiper control is set to LOW, LCD displays wiper setting|Ignition successful, turn the wiper potentiometer to LOW|Test passed.<br>Red LED is on<br>Motor rotates 90 degrees and back in 3s periods<br>LCD displays “Wipers: LOW”|
|9. After ignition, the windshield wiper rotates to 90 degrees and back at 10rpm when wiper control is set to INT, then pause for 1 second when intermittence control is set to SHORT, LCD displays wiper and intermittence settings|Ignition successful, turn the wiper potentiometer to INT, set intermittence potentiometer knob to SHORT|Test passed.<br>Red LED is on<br>Motor rotates 90 degrees and back in 3s period, then pauses for 1 second, repeated<br>LCD displays “Wipers: INT” on line 1<br>LCD displays “INT: SHORT” on line 2|
|10. After ignition, the windshield wiper rotates to 90 degrees and back at 10rpm when wiper control is set to INT, then pause for 3 seconds when intermittence control is set to MED, LCD displays wiper and intermittence settings|Ignition successful, turn the wiper potentiometer to INT, set intermittence potentiometer knob to MED|Test passed.<br>Red LED is on<br>Motor rotates 90 degrees and back in 3s period, then pauses for 3 seconds, repeated<br>LCD displays “Wipers: INT” on line 1<br>LCD displays “INT: MED” on line 2|
|11. After ignition, the windshield wiper rotates to 90 degrees and back at 10rpm when wiper control is set to INT, then pause for 5 seconds when intermittence control is set to LONG, LCD displays wiper and intermittence settings|Ignition successful, turn the wiper potentiometer to INT, set intermittence potentiometer knob to LONG|Test passed.<br>Red LED is on<br>Motor rotates 90 degrees and back in 3s period, then pauses for 5 seconds, repeated<br>LCD displays “Wipers: INT” on line 1<br>LCD displays “INT: LONG” on line 2|
|12. After ignition, the windshield wiper completes current cycle and stops at 0-degrees position when wiper control is set to OFFLCD displays wiper setting|Ignition successful, turn the wiper potentiometer to LOW, turn wiper potentiometer to OFF in the middle of the LOW cycle|Test passed.<br>Red LED is on<br>Motor rotates 90 degrees and back in 3s period<br>LCD displays “Wipers: LOW”<br>Motor completes current cycle and stops at 0-degrees position, and LCD displays “Wipers: OFF” when wiper potentiometer is turned to OFF|
|13. The windshield wiper completes its current cycle and then stops moving and the LCD display screen turns off when the engine is turned off.|Ignition successful, turn the wiper potentiometer knob to LOW, press ignition button to turn off engine and windshield wiper system|Test passed.<br>Red LED is on<br>Motor rotates 90 degrees and back in 3s periods<br>Red LED turns off, windshield wiper motor completes cycle and stops, and LCD display turns off when ignition button is pressed again|
